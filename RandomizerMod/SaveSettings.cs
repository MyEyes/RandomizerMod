using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Modding;

namespace RandomizerMod
{
    public class SaveSettings : IModSettings
    {
        public bool randomizer
        {
            get => GetBool(false);
            set => SetBool(value);
        }

        public bool hardMode
        {
            get => GetBool(false);
            set => SetBool(value);
        }

        public int seed
        {
            get => GetInt(-1);
            set => SetInt(value);
        }

        public bool fireball1
        {
            get => GetBool(false);
            set => SetBool(value);
        }

        public bool fireball2
        {
            get => GetBool(false);
            set => SetBool(value);
        }

        public bool quake1
        {
            get => GetBool(false);
            set => SetBool(value);
        }

        public bool quake2
        {
            get => GetBool(false);
            set => SetBool(value);
        }

        public bool scream1
        {
            get => GetBool(false);
            set => SetBool(value);
        }

        public bool scream2
        {
            get => GetBool(false);
            set => SetBool(value);
        }

        public int FireballLevel() => Convert.ToInt32(fireball1) + Convert.ToInt32(fireball2);

        public int QuakeLevel() => Convert.ToInt32(quake1) + Convert.ToInt32(quake2);

        public int ScreamLevel() => Convert.ToInt32(scream1) + Convert.ToInt32(scream2);

        public void Swap(string entry1, string entry2)
        {
            try
            {
                string key = StringValues.FirstOrDefault(x => x.Value == entry1).Key;
                string key2 = StringValues.FirstOrDefault(x => x.Value == entry2).Key;
                StringValues[key] = entry2;
                StringValues[key2] = entry1;
            }
            catch (Exception e)
            {
                RandomizerMod.instance.LogError("Could not swap entries " + entry1 + " and " + entry2 + ":\n" + e);
            }
        }

        public void Reset()
        {
            StringValues.Clear();

            randomizer = false;
            hardMode = false;
            seed = -1;
            fireball1 = false;
            fireball2 = false;
            quake1 = false;
            quake2 = false;
            scream1 = false;
            scream2 = false;
        }
    }
}
